---
title: è½¬è½½ï¼šä¸€å®šèƒ½è§£å†³ROSç³»ç»Ÿ rosdep update è¶…æ—¶é—®é¢˜deç®€å•æ–¹æ³•
author: ä¸åŠ è¾£å…ˆç”Ÿ
icon: 'analysis'
category:
  - Computer
  - robot
  - ROS
---

---

ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»è½¬è½½æ–‡ç« ï¼Œéµå¾ª CC 4.0 BY ç‰ˆæƒåè®®ã€‚å› ä¸ºè‡ªæµ‹æœ‰ç”¨è½¬è½½è‡³æ­¤ï¼Œä»¥ä¸‹ä¸ºåŸæ–‡é“¾æ¥ğŸ‘‡

åŸæ–‡é“¾æ¥ï¼š<https://blog.csdn.net/weixin_44023934/article/details/121242176>

---

## rosdep updateå‘½ä»¤ä½¿ç”¨

è¯¥æ–¹æ³•æ˜¯å¯ä»¥è·³è¿‡ sudo rosdep init åˆå§‹åŒ–å‘½ä»¤è®¾ç½®çš„ï¼Œå‰ææ˜¯[å®‰è£…ros](https://blog.csdn.net/weixin_44023934/article/details/127510378)ï¼Œrosdep update æ˜¯å®‰è£…ä¸€äº›ä¾èµ–åº“ï¼Œæ¯”å¦‚åœ¨ Cartographerã€ORB-SLAM ç­‰ç®—æ³•éœ€è¦ä½¿ç”¨åˆ°ä¸€äº›ä¾èµ–åº“ï¼Œæ˜¯å¿…é¡»å®‰è£…çš„ï¼Œå¦‚æœä¸æ˜¯æœ‰éœ€è¦çš„ï¼Œåªæ˜¯ä½¿ç”¨ ros ä¸€èˆ¬ä¾èµ–ï¼Œæ˜¯ä¸éœ€è¦ rosdep update çš„

::: tip æ³¨æ„
æœ¬æ–¹æ¡ˆåœ¨18.04å’Œ16.04æµ‹è¯•éƒ½æ²¡é—®é¢˜ã€‚[20.04Ubuntu](https://blog.csdn.net/weixin_44023934/article/details/137038004) ç‰ˆæœ¬å¯èƒ½éœ€è¦å¯¹è·¯å¾„çš„`python2.7æ”¹æˆpython3.0`ï¼Œä½† 20.04 ros å®‰è£… ç”¨å›½å†…èµ„æºå®‰è£…æ›´å¿«ï¼ŒåŒ…æ‹¬rosä¸€èµ·å®‰è£…ï¼š[é“¾æ¥ç‚¹å‡»](https://blog.csdn.net/weixin_44023934/article/details/137038004)
:::

## 1ã€ä¸‹è½½é“¾æ¥æ–‡ä»¶

### 1.1é¦–å…ˆå°†ä¸‹é¢ä»“åº“çš„å†…å®¹cloneåˆ°æœ¬åœ°

`æ–¹æ³•ä¸€ï¼Œcsdnä¸‹è½½é“¾æ¥ï¼š`
[csdnèµ„æº](https://download.csdn.net/download/weixin_44023934/82298701)ç›´æ¥ä¸‹è½½rosdistro,è§£å‹åˆ°homeç›®å½•

`æ–¹æ³•äºŒ ï¼š`
//è·³åˆ°homeç›®å½•

```shell
cd
```

//github ä¸‹è½½æ–‡ä»¶å‘½ä»¤

```shell
git clone <https://github.com/ros/rosdistro.git>
```

éœ€è¦è®°å¾—å°†ä¸‹è½½åŒ…åå­—rosdistro-masterã€‚ã€‚ã€‚ã€‚æ”¹ç§°rosdistro

`æ–¹æ³•ä¸‰ï¼š`
å¦‚æœgit clone é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯ä»¥ç›´æ¥æ‹·è´<https://github.com/ros/rosdistro.git>åˆ°ç½‘é¡µä¸‹è½½ï¼Œé€Ÿåº¦æé«˜ï¼Œ

### 1.2 å°†rosdistroæ–‡ä»¶æ‹·è´åˆ°etc/ros/ç›®å½•ä¸‹

ï¼ˆ1ï¼‰ã€å¦‚æœæ–‡ä»¶ä¸ºrosdistro-masterï¼Œéœ€è¦è®°å¾—å°†ä¸‹è½½åŒ…åå­—`rosdistro-masteræ”¹ç§°rosdistro`

```shell
//è·³åˆ°rosdistroæ–‡ä»¶ç›®å½•ä¸‹
cd
//æ‹·è´æ–‡ä»¶
sudo cp -r rosdistro /etc/ros/
```

## 2ã€ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶

### 2.1 ä¿®æ”¹`/usr/lib/python2.7/dist-packages/rosdep2/rep3.py`æ–‡ä»¶

```shell
cd /usr/lib/python2.7/dist-packages/rosdep2
sudo gedit rep3.py
```

æ³¨æ„ï¼šå¦‚æœè¿›å»ä¸åˆ°rosdep2æ–‡ä»¶å¤¹ï¼Œç›´æ¥åœ¨usræ–‡ä»¶å¤¹ä¸‹æœç´¢rep3.pyã€‚å°±èƒ½æŸ¥æ‰¾åˆ°å¯¹åº”çš„è·¯å¾„ï¼Œä»¥ä¸‹æ–¹æ³•åŒæ ·ã€‚
å°†REP3_TARGETS_URL = â€˜<https://raw.githubusercontent.com/ros/rosdistro/master/releases/targets.yamlâ€™> æ›¿æ¢æˆ `REP3_TARGETS_URL = 'file:///etc/ros/rosdistro/releases/targets.yaml'`

### 2.2 ä¿®æ”¹`/usr/lib/python2.7/dist-packages/rosdistro/__init__.py`æ–‡ä»¶

```shell
cd /usr/lib/python2.7/dist-packages/rosdistro
sudo gedit __init__.py
```

å°†åŸæ¥æ–‡ä»¶ä¸­çš„ DEFAULT_INDEX_URL = â€˜<https://raw.githubusercontent.com/ros/rosdistro/master/index-v4.yamlâ€™> æ›¿æ¢æˆ `DEFAULT_INDEX_URL = 'file:///etc/ros/rosdistro/index-v4.yaml'`

## 3ã€é…ç½®`20-default.list`æ–‡ä»¶

å¦‚æœè€…æŸ¥çœ‹/etc/ros/rosdep/sources.list.dè·¯å¾„å·²ç»æœ‰20-default.listæ–‡ä»¶ï¼ˆä¹‹å‰å·²ç»è¿è¡Œè¿‡sudo rosdep initçš„åŸå› ï¼‰ï¼Œå°±ç›´æ¥è·³è¿‡`3.1`æ­¥å¥ï¼Œè¿è¡Œ3.2æ­¥å¥ï¼Œ---------------------======

### 3.1ã€åˆ›å»ºæ–‡ä»¶å¤¹sources.list.d,å¹¶ç”Ÿæˆ20-default.list æ–‡ä»¶'

```shell
 sudo mkdir -p /etc/ros/rosdep/sources.list.d  
```

ç”Ÿæˆ20-default.list

```shell
cd /etc/ros/rosdep/sources.list.d  
sudo touch 20-default.list
```

åˆ°è¿™é‡Œå·²ç»ç”Ÿæˆ/etc/ros/rosdep/sources.list.d/20-default.listæ–‡ä»¶-------------------======

### 3.2ã€æ‰“å¼€20-default.listæ–‡ä»¶ï¼Œå°†é‡Œé¢å†…å®¹ä¿®æ”¹ä¸ºä¸‹é¢çš„ä»£ç 

```shell
sudo gedit /etc/ros/rosdep/sources.list.d/20-default.list
```

å†…å®¹æ”¹æˆ:

```list
# os-specific listings first
yaml file:///etc/ros/rosdistro/rosdep/osx-homebrew.yaml osx
# generic
yaml file:///etc/ros/rosdistro/rosdep/base.yaml
yaml file:///etc/ros/rosdistro/rosdep/python.yaml
yaml file:///etc/ros/rosdistro/rosdep/ruby.yaml
yaml file:///etc/ros/rosdistro/releases/fuerte.yaml
# newer distributions (Groovy, Hydro, ...) must not be listed anymore, they are being fetched from the rosdistro index.yaml instead
```

æ³¨æ„çš„æ˜¯`yaml file://` è¡¨ç¤ºå›ºå®šæ ¼å¼`/etc/ros..`è¡¨ç¤ºæ–‡ä»¶ç›®å½•ï¼Œæ‰€ä»¥æ˜¯`yaml file:///`

## 4ã€æœ€åç›´æ¥

```shell
rosdep update
```

## å‡ºé”™æ³¨æ„ï¼š

## ä¸€ï¼š

ç½‘ç»œä¸éœ€è¦ä»£ç†ï¼Œç”¨ä»£ç†è€Œæ²¡æœ‰ä»£ç†ä¸“å±çš„ipï¼ˆç¿»å¢™ï¼‰ï¼Œåè€Œä¸èƒ½ä¸‹è½½ï¼ˆæ¯”å¦‚ç»“æœå‡ºç°(https://ghproxy.com/file)ï¼›
æ–¹æ³•ï¼šåœ¨ç½‘ç»œè®¾ç½®ï¼Œå…³é—­ä»£ç†ï¼Œæˆ–æœç´¢linuxå…³é—­ä»£ç†æ–¹æ³•

## äºŒï¼šå‡ºé”™ç‡æé«˜

æ–‡ä»¶è·¯å¾„æˆ–è€…æ–‡ä»¶åé”™è¯¯ï¼Œä»£ç å‡ºç°**`ERROR: unable to process source[file:///etc/ros/rosdistro/rosdep....]No such file or directory`**ç­‰æ–‡å­—
è§£å†³æ–¹æ³•ï¼šæŠŠä¸‹è½½çš„æ–‡ä»¶copyä¸€ä¸‹ï¼Œç„¶åç²˜è´´åˆ°ç»ˆç«¯å°±å¯ä»¥å¯¹æ¯”ä½ æ–‡ä»¶å­˜æ”¾çš„`è·¯å¾„å’Œæ–‡ä»¶åç§°`æ˜¯å¦å’Œåé¦ˆæœç´¢ä¸åˆ°çš„è·¯å¾„å’Œæ–‡ä»¶åç§°ï¼Œå‚è€ƒåé¦ˆçš„è·¯å¾„ä¿®æ”¹æ–‡ä»¶å­˜æ”¾è·¯å¾„ã€‚

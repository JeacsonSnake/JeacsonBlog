<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="icon" href="/assets/img/favicon.ico"><title>部署 | JeacsonBlog</title><meta name="description" content="JeacsonBlog-一个简单的博客">
    <link rel="preload" href="/assets/style-CA0DOBIx.css" as="style"><link rel="stylesheet" href="/assets/style-CA0DOBIx.css">
    <link rel="modulepreload" href="/assets/app-CM1hd37A.js"><link rel="modulepreload" href="/assets/index.html-D1ddhGuP.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-BkzUelWQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CeKQdI8E.js" as="script"><link rel="prefetch" href="/assets/2024_06_17.html-CDhh5jwi.js" as="script"><link rel="prefetch" href="/assets/2024_07_01.html-DE3Dva69.js" as="script"><link rel="prefetch" href="/assets/2024_07_17.html-CeiSGfYk.js" as="script"><link rel="prefetch" href="/assets/2025_02_27.html-DfmYBlMl.js" as="script"><link rel="prefetch" href="/assets/index.html-ADVQuefb.js" as="script"><link rel="prefetch" href="/assets/index.html-CSxti7lP.js" as="script"><link rel="prefetch" href="/assets/index.html-DBfslEc7.js" as="script"><link rel="prefetch" href="/assets/index.html-IfAjQlI9.js" as="script"><link rel="prefetch" href="/assets/index.html-CMGrgvTC.js" as="script"><link rel="prefetch" href="/assets/index.html-SAjlH-yH.js" as="script"><link rel="prefetch" href="/assets/index.html-RrV8mftB.js" as="script"><link rel="prefetch" href="/assets/TCP与UDP与他们的关系.html-QEvrHqiQ.js" as="script"><link rel="prefetch" href="/assets/UDP校验和.html-DYdhYycK.js" as="script"><link rel="prefetch" href="/assets/什么是SMTP.html-BQ9lEZ9S.js" as="script"><link rel="prefetch" href="/assets/关于TCP_IP的五层模型.html-Cq0isGHu.js" as="script"><link rel="prefetch" href="/assets/关于VLAN.html-DIlQWC48.js" as="script"><link rel="prefetch" href="/assets/关于ppp协议与pppoe协议.html-CvHY-N3o.js" as="script"><link rel="prefetch" href="/assets/可靠数据的传输原理.html-ClLHvzuv.js" as="script"><link rel="prefetch" href="/assets/输入URL回车后发生了什么.html-HDP4LyPv.js" as="script"><link rel="prefetch" href="/assets/链路发现协议.html-DMPylMh6.js" as="script"><link rel="prefetch" href="/assets/黑洞路由.html-CegCoypS.js" as="script"><link rel="prefetch" href="/assets/Formal_Real_Para_When_Func_Get_Obj.html-BX_WuDBq.js" as="script"><link rel="prefetch" href="/assets/index.html-CX_5upx3.js" as="script"><link rel="prefetch" href="/assets/Reduce方法.html-CofN3Fkl.js" as="script"><link rel="prefetch" href="/assets/Symbol.html-CpLKPhJa.js" as="script"><link rel="prefetch" href="/assets/defineproperty方法.html-B9RgmOss.js" as="script"><link rel="prefetch" href="/assets/柯里化.html-DbBbRw7V.js" as="script"><link rel="prefetch" href="/assets/简单记忆.html-CK6HdlKW.js" as="script"><link rel="prefetch" href="/assets/index.html-CMWJTyDZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BEt4Q5OC.js" as="script"><link rel="prefetch" href="/assets/compute_and_simutation.html-DXZ0CDaG.js" as="script"><link rel="prefetch" href="/assets/2024_09_12.html-ykSh60Ax.js" as="script"><link rel="prefetch" href="/assets/2024_10_11_cpy_001.html-kbKs9RBa.js" as="script"><link rel="prefetch" href="/assets/index.html-C_nwR5WM.js" as="script"><link rel="prefetch" href="/assets/index.html-DIWWprau.js" as="script"><link rel="prefetch" href="/assets/第一天.html-qWRLxnCf.js" as="script"><link rel="prefetch" href="/assets/第三天.html-OeKnaAtH.js" as="script"><link rel="prefetch" href="/assets/第二天.html-jQgFyNUa.js" as="script"><link rel="prefetch" href="/assets/第五天.html-BrySx2o4.js" as="script"><link rel="prefetch" href="/assets/第四天.html-ujd75zvm.js" as="script"><link rel="prefetch" href="/assets/2024_09_23.html-HYwZZVSW.js" as="script"><link rel="prefetch" href="/assets/index.html-HUig1qFb.js" as="script"><link rel="prefetch" href="/assets/index.html-DomKXiHD.js" as="script"><link rel="prefetch" href="/assets/index.html-CVbZF0OL.js" as="script"><link rel="prefetch" href="/assets/2024_09_18.html-Bptb3Suv.js" as="script"><link rel="prefetch" href="/assets/2024_09_19.html-4JK4LgpE.js" as="script"><link rel="prefetch" href="/assets/2024_09_19_002.html-Da8805JS.js" as="script"><link rel="prefetch" href="/assets/2024_09_22.html-DnBOzKpn.js" as="script"><link rel="prefetch" href="/assets/2024_09_25.html-BMwr5y_y.js" as="script"><link rel="prefetch" href="/assets/2024_09_25_002.html-CKDORC0E.js" as="script"><link rel="prefetch" href="/assets/2024_10_03.html-9zFvcr1Z.js" as="script"><link rel="prefetch" href="/assets/2024_10_03_002.html-BL80eLCg.js" as="script"><link rel="prefetch" href="/assets/2024_10_03_003.html-Dr94RW2A.js" as="script"><link rel="prefetch" href="/assets/2024_10_03_004.html-0sbjJWSd.js" as="script"><link rel="prefetch" href="/assets/2024_10_15.html-007DtywF.js" as="script"><link rel="prefetch" href="/assets/2024_10_15_002.html-DBO3Aj0M.js" as="script"><link rel="prefetch" href="/assets/2024_10_16.html-BEQ5HlFR.js" as="script"><link rel="prefetch" href="/assets/2024_10_16_002.html-BcBEOOcF.js" as="script"><link rel="prefetch" href="/assets/2024_11_27.html-1ndyDdxl.js" as="script"><link rel="prefetch" href="/assets/2025_03_06.html-DPTNHnqN.js" as="script"><link rel="prefetch" href="/assets/2025_03_07.html-CyuB6LzR.js" as="script"><link rel="prefetch" href="/assets/index.html-DaUiBNCZ.js" as="script"><link rel="prefetch" href="/assets/2025_03_11.html-BeeFb6_a.js" as="script"><link rel="prefetch" href="/assets/2025_03_12.html-JvdgZHCF.js" as="script"><link rel="prefetch" href="/assets/2025_03_13.html-CmJowlgP.js" as="script"><link rel="prefetch" href="/assets/2025_03_14.html-Dbz3Ub7m.js" as="script"><link rel="prefetch" href="/assets/2025_03_15.html-D78UxmqI.js" as="script"><link rel="prefetch" href="/assets/2025_03_16.html-BEt6aNw_.js" as="script"><link rel="prefetch" href="/assets/2025_04_12.html-DJQDGKHm.js" as="script"><link rel="prefetch" href="/assets/2025_04_13.html-DGUVuUnp.js" as="script"><link rel="prefetch" href="/assets/index.html-CjqORR8f.js" as="script"><link rel="prefetch" href="/assets/2025_04_28.html-Cb9ECoqI.js" as="script"><link rel="prefetch" href="/assets/2025_04_29.html-Sejq05ye.js" as="script"><link rel="prefetch" href="/assets/index.html-CNdlral2.js" as="script"><link rel="prefetch" href="/assets/index.html-CQWW9g43.js" as="script"><link rel="prefetch" href="/assets/VUERouter.html-DYFs2Z1e.js" as="script"><link rel="prefetch" href="/assets/VUEX.html-BpT0pnbO.js" as="script"><link rel="prefetch" href="/assets/VUE基础.html-DMD5Sq6C.js" as="script"><link rel="prefetch" href="/assets/index.html-BGE4Kpj5.js" as="script"><link rel="prefetch" href="/assets/VUE3_Vs_VUE2_In_Reactive_Data.html-DKSI1ZS3.js" as="script"><link rel="prefetch" href="/assets/VUE3_Vs_VUE2_In_Render_Function.html-ChdcHGnf.js" as="script"><link rel="prefetch" href="/assets/VUE3_Vs_VUE2_In_Watch.html-DUpzyk23.js" as="script"><link rel="prefetch" href="/assets/VUE3的数据响应式_上.html-B-m9Vzo0.js" as="script"><link rel="prefetch" href="/assets/VUE3的数据响应式_下.html-3c1zotP3.js" as="script"><link rel="prefetch" href="/assets/VUE3的数据响应式_中.html-BKj6REC2.js" as="script"><link rel="prefetch" href="/assets/VUE3的数据响应式_补.html-DI40x9Kb.js" as="script"><link rel="prefetch" href="/assets/Vue3 中 watcheffect 函数的使用.html-DVV-gYTl.js" as="script"><link rel="prefetch" href="/assets/404.html-DVr7Q5b6.js" as="script"><link rel="prefetch" href="/assets/index.html-CAiiyPOc.js" as="script"><link rel="prefetch" href="/assets/index.html-DtQDCE1a.js" as="script"><link rel="prefetch" href="/assets/index.html-DMx_LP1q.js" as="script"><link rel="prefetch" href="/assets/index.html-B09zzz_c.js" as="script"><link rel="prefetch" href="/assets/index.html-CwxDD1vG.js" as="script"><link rel="prefetch" href="/assets/index.html-JBcM_wLA.js" as="script"><link rel="prefetch" href="/assets/index.html-B85kTtQW.js" as="script"><link rel="prefetch" href="/assets/index.html-C7x006JP.js" as="script"><link rel="prefetch" href="/assets/index.html-DvpcgH5o.js" as="script"><link rel="prefetch" href="/assets/index.html-CJbo2a6D.js" as="script"><link rel="prefetch" href="/assets/index.html-tgOpgJn9.js" as="script"><link rel="prefetch" href="/assets/index.html-CuxKuKv9.js" as="script"><link rel="prefetch" href="/assets/index.html-BrVqmAjE.js" as="script"><link rel="prefetch" href="/assets/index.html-DBzntRxt.js" as="script"><link rel="prefetch" href="/assets/index.html-C7ZuuAWL.js" as="script"><link rel="prefetch" href="/assets/index.html-CIB6iluE.js" as="script"><link rel="prefetch" href="/assets/index.html-Bik8XjcE.js" as="script"><link rel="prefetch" href="/assets/index.html-CwiTk4if.js" as="script"><link rel="prefetch" href="/assets/index.html-CUVfyVJF.js" as="script"><link rel="prefetch" href="/assets/index.html-D9e746Ip.js" as="script"><link rel="prefetch" href="/assets/index.html-DYh4hhlZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CfWX5cNm.js" as="script"><link rel="prefetch" href="/assets/index.html-DYdG3575.js" as="script"><link rel="prefetch" href="/assets/index.html-DlaXGoS-.js" as="script"><link rel="prefetch" href="/assets/index.html-DkneMC9b.js" as="script"><link rel="prefetch" href="/assets/index.html-DL7dwNPg.js" as="script"><link rel="prefetch" href="/assets/index.html-Bh5gAjVd.js" as="script"><link rel="prefetch" href="/assets/index.html-DZxc3S_7.js" as="script"><link rel="prefetch" href="/assets/index.html-CfVMe9Jr.js" as="script"><link rel="prefetch" href="/assets/index.html-ChbcfL-5.js" as="script"><link rel="prefetch" href="/assets/index.html-QHmbGAWf.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-CKV1Bsxh.js" as="script"><link rel="prefetch" href="/assets/waline-meta-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/component-Dr5dKDk-.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/assets/img/logo.png" alt><!----><span class="vp-site-name hide-in-pad">JeacsonBlog</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="主页"><!--[--><i class="vp-icon iconfont icon-house" sizing="height"></i><!--]-->主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/learningNote/" aria-label="学习笔记"><!--[--><i class="vp-icon iconfont icon-paper-pen" sizing="height"></i><!--]-->学习笔记<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/postMortem/" aria-label="踩坑心得"><!--[--><i class="vp-icon iconfont icon-diagram-next" sizing="height"></i><!--]-->踩坑心得<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/complain_diary/" aria-label="记录随笔"><!--[--><i class="vp-icon iconfont icon-signature" sizing="height"></i><!--]-->记录随笔<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/about/" aria-label="关于"><!--[--><i class="vp-icon iconfont icon-circle-info" sizing="height"></i><!--]-->关于<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://Github.com" aria-label="Github" rel="noopener noreferrer" target="_blank"><!---->Github<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><div class="vp-nav-item"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="选择语言"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" name="i18n" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/postMortem/deploy/" aria-label="简体中文"><!---->简体中文<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/en/" aria-label="English"><!---->English<!----></a></li></ul></button></div></div><!----><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/postMortem/" aria-label="踩坑心得"><!--[--><i class="vp-icon iconfont icon-diagram-next" sizing="both"></i><!--]-->踩坑心得<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/postMortem/deploy/" aria-label="部署"><!--[--><i class="vp-icon iconfont icon-box-archive" sizing="both"></i><!--]-->部署<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/postMortem/markdown_render/" aria-label="markdown-it渲染器"><!--[--><i class="vp-icon iconfont icon-markdown" sizing="both"></i><!--]-->markdown-it渲染器<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon iconfont icon-box-archive" sizing="height"></i>部署</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Jeacson She</span></span><span property="author" content="Jeacson She"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2023/8/23</span><meta property="datePublished" content="2023-08-23T08:45:29.000Z"></span><span class="page-pageview-info" aria-label="访问量🔢" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon" name="eye"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="vp-pageview waline-pageview-count" data-path="/postMortem/deploy/" data-page-key="/postMortem/deploy/">...</span></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 8 分钟</span><meta property="timeRequired" content="PT8M"></span><!----><!----></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h2 id="简述" tabindex="-1"><a class="header-anchor" href="#简述"><span>简述</span></a></h2><p>一些在部署静态页面时踩坑后的总结向文章。</p><h2 id="一、使用-github-actions-将静态资源网页部署到github-pages" tabindex="-1"><a class="header-anchor" href="#一、使用-github-actions-将静态资源网页部署到github-pages"><span>一、使用 Github Actions 将静态资源网页部署到Github Pages</span></a></h2><h3 id="_1-关于-github-token-权限" tabindex="-1"><a class="header-anchor" href="#_1-关于-github-token-权限"><span>1. 关于 GITHUB_TOKEN 权限</span></a></h3><p>前提: 在创建 .github/workflow/docs.yml 文件之后针对内部配置进行了相关修订。</p><p>出现问题: 在使用 Github Actions 后 workflow 出现以下报错:</p><p><img src="/assets/GitHubActionFatalNO1-CPHDExxT.jpg" alt="GitHubActionFatalNO1"></p><p>原因: workflow 在部署代码到 gh-pages 分支时需要对默认的 secrets.GITHUB_TOKEN 进行读写操作，但是仓库默认没有给予相关权限。</p><p>解决方法: 配置默认 GITHUB_TOKEN 权限。</p><p>以下引用自官方文档<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup></p><blockquote><p>默认情况下，当你在个人帐户中创建新存储库时，GITHUB_TOKEN 仅对 contents 和 packages 范围具有读取权限。 如果在组织中创建新存储库，则设置继承自组织设置中配置的内容。</p><p>在 GitHub.com 上，导航到存储库的主页。</p><p>在存储库名称下，单击 “设置”。 如果看不到“设置”选项卡，请选择 下拉菜单，然后单击“设置” 。</p><p>存储库标头的屏幕截图，其中显示了选项卡。 “设置”选项卡以深橙色边框突出显示。</p><p>在左侧边栏中，单击 “操作”，然后单击“常规” 。</p><p>在“工作流权限”下，选择是要让 GITHUB_TOKEN 对所有范围具有读写访问权限（允许设置），还是仅对 contents 和 packages 范围具有读取访问权限（受限设置）。</p><p>单击“保存”以应用设置。</p></blockquote><h3 id="_2-关于-github-pages-源路径切换" tabindex="-1"><a class="header-anchor" href="#_2-关于-github-pages-源路径切换"><span>2. 关于 Github Pages 源路径切换</span></a></h3><p>前提: 经过上述操作后, Github Actions 成功运行。</p><p>出现问题: 即使声称已经成功对该网页进行部署，但是实际上并没有在指定的域名下找到对应的网页。</p><p>原因: 在使用该 workflow 进行项目打包后, 需要将 Github Pages 源路径切换至被打包的文件所在路径才可以获取到对应信息。</p><p>解决方法:</p><ul><li><p>首先将项目自身setting中 Code and automation 下的 Pages&gt;Build and deployment选项，修改Source为&quot; Deploy from a branch&quot;</p></li><li><p>然后将路径进行修改，如下图红圈:</p></li></ul><p><img src="/assets/GitHubPagesSourcePath-SpG2sG50.jpg" alt="GitHubPagesSourcePath"></p><h2 id="二、使用-leancloud做数据库-将博客用评论功能-waline-部署到-vercel-服务端时发生的问题" tabindex="-1"><a class="header-anchor" href="#二、使用-leancloud做数据库-将博客用评论功能-waline-部署到-vercel-服务端时发生的问题"><span>二、使用 leancloud做数据库，将博客用评论功能 waline 部署到 vercel 服务端时发生的问题</span></a></h2><p>参考:<a href="https://plugin-comment2.vuejs.press/zh/guide/waline.html" target="_blank" rel="noopener noreferrer">vuepress-plugin-comment2 插件中有关 配置waline的相关文档</a></p><h3 id="_1-客户端出现-500-uninitialized-问题" tabindex="-1"><a class="header-anchor" href="#_1-客户端出现-500-uninitialized-问题"><span>1.客户端出现&quot;500 Uninitialized&quot;问题</span></a></h3><p>前提：部署后在评论时一直提示&quot;500 Uninitialized&quot;。 尝试：经文档查找发现可能是需要首先在客户端进行注册，出现管理员账号之后才可以评论。</p><p>但是在尝试注册时，依然出现提示&quot;500 Uninitialized&quot;的问题。</p><p>解决方案： 排查后发现不知为何之前在vercel配置的有关LeanCloud的环境变量并没有保存。重新配置后点击保存即可。</p><h3 id="_2-无法正常加载评论的问题" tabindex="-1"><a class="header-anchor" href="#_2-无法正常加载评论的问题"><span>2.无法正常加载评论的问题</span></a></h3><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>由于写作习惯，这里所有有关域名的网址都做了化名(xxxxx.com)。</p></div><p>前提：在博客尝试拉取评论时发现会出现无法正常加载的问题。具体表现为：</p><ul><li>多次点击“refresh”按钮，但是无法获取到之前正常评论的信息；</li><li>在vercel网页版中，查找log却发现并没没有检测到相关的API请求。</li></ul><p>解决方案: 参考waline官方GitHub discussion的<a href="https://github.com/walinejs/waline/issues/1318" target="_blank" rel="noopener noreferrer">相关讨论</a>后得知：</p><blockquote><p>lizheming commented on Aug 27, 2022 群里了解了下，应该是 *.vercel.app 域名被 DNS 污染了，按照楼上说的绑定自定义域名，或者去其它服务上部署解决吧。</p></blockquote><p>因此尝试通过以下人员所提供方案进行修复：</p><blockquote><p>elkan1788 commented on Sep 19, 2022 可以考虑使用免费域名+LeanCloud国际版本的部署方案，但就是速度慢一些，但服务还是正常的使用。 方案及效果： <a href="https://lisenhui.cn/blog/use-custom-domain-active-vercel-waline.html" target="_blank" rel="noopener noreferrer">使用自定义域名激活Vercel部署的Waline服务</a></p></blockquote><p>我以前在阿里云有注册一个已备案的域名&quot;xxxxx.com&quot;，因此把以前没有用上的域名重新启用。相关配置如下：</p><h4 id="i、在阿里云的相关配置" tabindex="-1"><a class="header-anchor" href="#i、在阿里云的相关配置"><span>I、在阿里云的相关配置</span></a></h4><p>在<a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer">阿里云首页</a>点击&quot;控制台&quot;，点击&quot;概览/资源概览/云解析DNS/控制台&quot;，在&quot;域名解析&quot;中点击已经添加的域名，会跳转到&quot;解析设置&quot;页面。</p><ul><li>点击&quot;添加记录&quot;</li><li>设置&quot;记录类型&quot;为&quot;CNAME&quot;</li><li>我习惯使用二级域名进行分类管理，因此在&quot;主机记录&quot;中填入&quot;comment&quot;，使解析后域名变为&quot;comment.xxxxx.com&quot;</li><li>&quot;解析请求来源&quot;为&quot;默认&quot;</li><li>&quot;记录值&quot;为&quot;cname.vercel-dns.com&quot;</li><li>&quot;TTL&quot;不变，&quot;10分钟&quot;</li></ul><p>点击确认即可。</p><h4 id="ii、在vercel的相关配置" tabindex="-1"><a class="header-anchor" href="#ii、在vercel的相关配置"><span>II、在vercel的相关配置</span></a></h4><p>在 vercel已经部署好的后端项目上，点击&quot;setting&quot;,并作如下操作：</p><ul><li>点击&quot;Domains&quot;</li><li>将解析后的域名输入框中，点击&quot;Add&quot;</li></ul><p>结束。</p><h4 id="iii、在博客源码中的相关配置" tabindex="-1"><a class="header-anchor" href="#iii、在博客源码中的相关配置"><span>III、在博客源码中的相关配置</span></a></h4><p>参考: <a href="https://theme-hope.vuejs.press/zh/guide/feature/comment.html" target="_blank" rel="noopener noreferrer">vuepress-theme-hope 指南/功能/评论</a></p><p>打开&quot;docs\ .vuepress\ theme.ts&quot; 或者类似的主题配置的源码，将这里替换为上面解析后的域名：</p><div class="language-typescript line-numbers-mode" data-highlighter="shiki" data-ext="typescript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-typescript"><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    plugins</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">        ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        comment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            provider</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Waline&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // waline 模式下</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            serverURL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://comment.xxxxx.com/&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// your serverURL 👈将这里替换为上面解析后的域名</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">        ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结束。</p><h2 id="三、博客自定义域名所带来的问题" tabindex="-1"><a class="header-anchor" href="#三、博客自定义域名所带来的问题"><span>三、博客自定义域名所带来的问题</span></a></h2><p><strong>前提</strong>：之前在阿里云买了一个域名一直没有用，于是尝试将这个博客的域名从原来的<code>github.io</code>转到现在这个域名。如同之前所说，这个博客使用了<code>vuepress</code>作为框架，并通过 <code>Github Action workflow</code> 将这个博客的源代码进行自动的打包、部署在 <code>Github Pages</code> 上。</p><p><strong>尝试</strong>：在阿里云的工作台下，尝试通过“工作台/概览/资源概览/云解析DNS”中的相关设置进行调整。但是因为操作过于混杂，导致该域名出现了DNS被污染，导致无法正常导航的问题。</p><p><strong>解决方案</strong>：将原先操作重置后，以如下方法进行：</p><div class="hint-container info"><p class="hint-container-title">相关定义</p><p>这里将原网址定义为：“youraccount.github.io/blog/”,</p><p>希望添加的自定义域名设置为：“blog.yourdomain.com”</p></div><ol><li><p>打开阿里云“工作台/概览/资源概览/云解析DNS/域名解析”，点击需要解析的域名，进入“解析设置”.</p></li><li><p>点击添加记录，以如下设定进行配置：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">记录类型: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;CNAME&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">主机记录: [</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">blog</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;.yourdomain.com&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">解析请求来源: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;默认&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">记录值: [</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">原来的域名。例如</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;"> youraccount.github.io</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">TTL: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;10分钟&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>并保存。等待一段时间（半分钟左右）尝试点击刚添加的栏目条的“生效检测”，如果可以正常解析到你添加的网址，则进入下一步。</p></li><li><p>如果之前的部署位置是“youraccount.github.io/blog/”而不是“youraccount.github.io”，则查看下之前有没有修改该博客源代码打包后的base值，默认的键值对为：&quot;base: &#39;/&#39;&quot;。←这个十分重要，因为如果没有修改，博客源代码在打包之后会出现css/js/图片等依赖相对路径的文件加载不出来的问题。修改后先PUSH，再进入下一步。</p></li><li><p>修改<code>Github Action workflow</code>的设定文件，例如在本案例中 <code>.github\workflows</code> 下的 <code>docs.yml</code>。在有关<strong>运行构建脚本</strong>的相关语句后添加以下句式：</p><div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yml"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # 写入自定义域名</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Configure custom domain</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">echo blog.yourdomain.com &gt;&gt; docs/.vuepress/dist/CNAME</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样就使得每次打包后都可以自动生成CNAME文件，这对自定义域名的映射较为重要。修改完毕后PUSH，等待修改后<code>Github Action workflow</code>自动部署后进入下一步。</p></li><li><p>将github页面上对应仓库的<code>Github Pages</code>选项内有关Custom Domain的输入框中填入自定义的域名，并点击保存。等待一段时间。</p></li><li><p>结束！这样就可以使用自定义的域名进入自己的博客了。🎉</p></li></ol><h2 id="四、部署网站时-加载不出css-js相关样式的问题" tabindex="-1"><a class="header-anchor" href="#四、部署网站时-加载不出css-js相关样式的问题"><span>四、部署网站时，加载不出CSS/JS相关样式的问题</span></a></h2><p><strong>前提</strong>：在部署该博客后，又尝试在GITHUB Pages 上部署了另一个项目<a href="https://github.com/JeacsonSnake/bobing-jettonman-ALLinONE" target="_blank" rel="noopener noreferrer">博饼·状元筹</a>。结果部署上去之后，发现加载不出CSS/JS相关样式，开启开发者工具后发现针对该类文件的请求全部404。</p><p><strong>解决方案</strong>：因为该项目部署时所在的网址是有类似于baseURL的访问路径，因此所有CSS/JS相关样式都在“baseURL/css”或者“baseURL/js”下，因此需要进行设置，将该类静态资源文件在服务器上的基本路径设置为“\baseURL\”才能够实现正确的读取。</p><div class="hint-container tip"><p class="hint-container-title">具体方法</p><p>该项目是使用VUE2作为项目架构的，因此假设项目部署在域名为 <code>https://www.example.com/my-app/</code> 的服务器上，那么可以在项目的 <strong>vue.config.js</strong> 中将publicPath设置为 <code>/my-app/</code> ，以确保静态资源的访问路径正确。</p><p>示例代码如下：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // vue.config.js</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        publicPath</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;/my-app/&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要注意的是，publicPath选项只对通过Vue CLI进行打包构建的项目有效。</p></div><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p><a href="https://docs.github.com/zh/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository#setting-the-permissions-of-the-github_token-for-your-repository" target="_blank" rel="noopener noreferrer">为存储库设置 GITHUB_TOKEN 的权限 - GitHub 文档</a> <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li></ol></section></div><!----><!----><!----></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">最近更新</span><time class="vp-meta-info" datetime="2023-10-21T08:34:46.000Z" data-allow-mismatch>2023/10/21 08:34</time></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: Jeacson_Snake@outlook.com">Jeacson_Snake</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link route-link-active auto-link prev" href="/postMortem/" aria-label="踩坑心得"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><i class="vp-icon iconfont icon-diagram-next" sizing="height"></i>踩坑心得</div></a><a class="route-link auto-link next" href="/postMortem/markdown_render/" aria-label="markdown-it渲染器"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">markdown-it渲染器<i class="vp-icon iconfont icon-markdown" sizing="height"></i></div></a></nav><div id="comment" class="waline-wrapper vp-comment" vp-comment darkmode="false" style="display:block;"><!----></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CM1hd37A.js" defer></script>
  </body>
</html>
